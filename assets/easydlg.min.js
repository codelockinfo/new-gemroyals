var EasyDialogBox=function(){"use strict";var e="dlg|dlg-close|dlg-prompt|dlg-yes|dlg-no|dlg-yes-no|dlg-ok|dlg-cancel|dlg-ok-cancel|dlg-toast|dlg-disable-heading|dlg-disable-footer|dlg-disable-btns|dlg-disable-overlay|dlg-disable-drag|dlg-disable-esc|dlg-disable-clickout|dlg-nomodal|dlg-multi|dlg-fade|dlg-resize|dlg-info|dlg-question|dlg-error|dlg-success|dlg-exclamation|dlg-rounded|dlg-shadow|dlg-disable-mobile".split("|"),t=[],l=0,i=!1,n=function(){return document.querySelector("body")},o=function(){return document.querySelector("html")},d=function(e){var t=parseInt(e,10);return isFinite(t)||(t=0),t},s=function(e){return e.replace(/^\s+|\s+$/g,"")};Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,l=Number(arguments[1])||0;for((l=l<0?Math.ceil(l):Math.floor(l))<0&&(l+=t);l<t;l++)if(l in this&&this[l]===e)return l;return -1});var r=function(e,t,l,i){if(void 0!==e.addEventListener)e.addEventListener(t,l,i);else if(void 0!==e.attachEvent){var n=t+l;e["e"+n]=l,e[n]=function(t){t=t||window.event;try{e["e"+n](t)}catch(l){}},e.attachEvent("on"+t,e[n])}else if("function"==typeof e[t="on"+t]){var o=e[t];e[t]=function(){return o(),l()}}else e[t]=l},a=function(e,t,l,i){if(void 0!==e.removeEventListener)e.removeEventListener(t,l,i);else if(void 0!==e.detachEvent){var n=t+l;e.detachEvent("on"+t,e[n]),e["e"+n]=null,e[n]=null}else e["on"+t]=null},c=function(e){var t=e.target||e.srcElement;return 3===t.nodeType&&(t=t.parentNode),t},u=function(e){void 0!==e.preventDefault&&e.preventDefault(),void 0!==e.returnValue&&(e.returnValue=!1)},g=function(){return window.innerWidth||document.documentElement.clientWidth||n().clientWidth},h=function(){return window.innerHeight||document.documentElement.clientHeight||n().clientHeight},p=function(e,t){return("undefined"!=typeof getComputedStyle?getComputedStyle(e,null):e.currentStyle)[t]},f=function(e,t){var l=RegExp("(^|\\s)"+t+"(\\s|$)");return null!==e&&l.test(e.className)},b=function(e,t){f(e,t)||(""===e.className?e.className=t:e.className+=" "+t)},m=function(e,t){if(f(e,t)){var l=RegExp("(^|\\s)"+t+"(\\s|$)"),i=e.className.replace(l," ");e.className=i.replace(/^\s+|\s+$/g,"")}},v=function(e){for(var l=0;l<t.length;l++)if(t[l].id===e)return t[l];return null},y=function(e){var t=document.getElementById(e),l=v(t.id.split("_1")[0]);t&&(d(t.offsetHeight+l.customPosY)>=h()?(t.style.top="0",t.style.marginTop="0",t.style.marginBottom="0",t.style.borderTopWidth="0",t.style.borderBottomWidth="0",l.customPosY=0,(f(t.parentNode,"dlg-multi")||f(t.parentNode,"dlg-disable-overlay")||f(t.parentNode,"dlg-nomodal"))&&(_(),t.parentNode.style.overflow="auto",window.PointerEvent&&(t.parentNode.style.pointerEvents="auto"))):(l.customPosY?t.style.top=l.customPosY+"px":t.style.top=h()/2-t.offsetHeight/2+"px",l.customHeight&&(t.style.height=l.customHeight+"px"),t.style.borderTopWidth="",t.style.borderBottomWidth="",f(t.parentNode,"dlg-multi")||f(t.parentNode,"dlg-disable-overlay")||f(t.parentNode,"dlg-nomodal")?(C(),t.parentNode.style.overflow="hidden"):_()),d(t.offsetWidth+l.customPosX+30)>=g()?(t.style.left="0",t.style.marginLeft="0",t.style.marginRight="0",t.style.borderLeftWidth="0",t.style.borderRightWidth="0",l.customPosX=0):(l.customPosX?t.style.left=l.customPosX+"px":t.style.left=g()/2-t.offsetWidth/2+"px",l.customWidth&&(t.style.maxWidth=l.customWidth+"px"),t.style.borderLeftWidth="",t.style.borderRightWidth=""))},$=function(e,t){var l=document.getElementById(e+"_1");if(!t)return l;if(-1!==(t=s(t)).indexOf("#")&&null===t.match(/[\s+>,+:\[]/g))return l.querySelector(t);if(l){var i=l.querySelectorAll(t);if(i.length)return i}return null},x=function(e){for(var l=d(p(e,"zIndex")),i=0;i<t.length;i++)l<=d(p($(t[i].id).parentNode,"zIndex"))&&$(t[i].id).parentNode!==e&&(l=d(p($(t[i].id).parentNode,"zIndex"))+1);return d(l)},_=function(){!f(o(),"dlg-stop-scrolling")&&(l=p(o(),"paddingRight"),l=d(l),o().offsetWidth,b(o(),"dlg-stop-scrolling"),o().offsetWidth,"number"==typeof l&&l>0&&d(l))},C=function(e,l){if(e&&l&&(f(e,"dlg-multi")||f(e,"dlg-disable-overlay")||f(e,"dlg-nomodal"))){for(var i=0,n=0;n<t.length;n++)t[n].bVisible&&t[n].id!==l.id&&i++;if(0!==i)return!1}return f(o(),"dlg-stop-scrolling")&&m(o(),"dlg-stop-scrolling"),!0},E=function(e,t){return f(o(),"dlg-hide-mobile")&&m(o(),"dlg-hide-mobile"),!0},A=function(e,t,l,i){n=t?10:0;var n,o=setInterval(function(){t?n--:n++,e.style.opacity=n/10,(t&&n<=0||!t&&n>=10)&&(clearInterval(o),"function"==typeof l&&l())},i||30)},k=function(e,t){var l=d(t.h);if(!f(e,"dlg-disable-heading")){var i=$(t.id,"#"+t.id+" .dlg-heading");i&&(l-=d(p(i=i[0],"height"))+d(p(i,"paddingTop"))+d(p(i,"paddingBottom"))+d(p(i,"borderTopWidth"))+d(p(i,"borderBottomWidth")))}if(!f(e,"dlg-disable-footer")){var n=$(t.id,"#"+t.id+" .dlg-footer");n&&(l-=d(p(n=n[0],"height"))+d(p(n,"paddingTop"))+d(p(n,"paddingBottom"))+d(p(n,"borderTopWidth"))+d(p(n,"borderBottomWidth")))}var o=$(t.id,".dlg-message");o&&(l-=d(p(o=o[0],"borderTopWidth"))+d(p(o,"paddingTop"))+d(p(o,"paddingBottom"))+d(p(o,"borderBottomWidth")),o.style.height=d(l)+"px",o.style.maxHeight=d(l)+"px")},T=function(e){if(i)return!1;var t=v(e);if(null!==t){var l=document.getElementById(t.id);f(l,"dlg-disable-overlay")||f(l,"dlg-nomodal")||f(l,"dlg-multi")||(_(),i=!0),f(l,"dlg-disable-drag")||L.init(t.id+"_1"),f(l,"dlg-disable-mobile")&&(f(o(),"dlg-hide-mobile")||b(o(),"dlg-hide-mobile")),l.classList.add("dialog-open"),l.style.zIndex=d(x(l)),t.bFade&&(l.style.opacity=0,A(l));var n=document.getElementById(t.id+"_1");return("number"==typeof t.x||"string"==typeof t.x)&&(n.style.left=d(t.x)+"px",t.customPosX=d(t.x)),("number"==typeof t.y||"string"==typeof t.y)&&(n.style.top=d(t.y)+"px",t.customPosY=d(t.y)),t.w&&(n.style.maxWidth=d(t.w)+"px",t.customWidth=d(t.w)),t.h&&(t.customHeight=d(t.h)),t.customHeight&&k(t.el,t),n.style.visibility="visible",t.bVisible=!0,t.onShow(),y(t.id+"_1"),t}return!1},w=function(e,t){var l=document.getElementById(e),n=document.getElementById(e+"_1");l.classList.add("dialog-remove-loadding");var o=v(e);return o.x&&o.xPos(o.x),o.y&&o.yPos(o.y),o.w&&o.width(o.w),o.h&&o.height(o.h),l&&n&&(!0===t||o.bFade?!0!==t&&o.bFade?A(l,!0,function(){n.style.visibility="hidden",o.bVisible=!1,o.onHide()}):(!0!==t||o.bFade,n.style.visibility="hidden",o.bVisible=!1):(n.style.visibility="hidden",o.bVisible=!1,o.onHide())),C(l,o),E(),f(l,"dlg-disable-overlay")||f(l,"dlg-nomodal")||(i=!1),o},N=function(e){var l=!1,n=v(e),o=document.getElementById(e);if(o){C(o,n),E(),f(o,"dlg-disable-overlay")||f(o,"dlg-nomodal")||(i=!1),n.onDestroy();var d=o.querySelectorAll(".dlg-input-field");d.length>0&&(d[0].onkeyup=null,d[0].onchange=null),setTimeout(function(){o.parentNode.removeChild(o)},400),n.bExistInDOM=!1,n.bVisible=!1;var s=t.indexOf(n);s>-1?setTimeout(function(){l=1===t.splice(s,1).length},10):l=!1}return l},W=function(l,i,o,a,u,p,_,C,E){var A=v(l+"_0");if(A)return A;i=s(i=i.replace(/\s+/g," "));var W=function(e,t,l,i){var n=t;!0===l&&(void 0===i&&(i=" "),n=t.split(i));for(var o=0,d=0;d<n.length;d++)for(var s=0;s<e.length;s++)e[s]===n[d]&&o++;return n.length===o}(e,i,!0);if(!0===W){(""===l||null==l||0===l)&&(l="a",l+=Math.random().toString(36).substr(2,9)),void 0===u&&(u=!1);var H={id:l+="_0",strTypeClass:i,strTitle:o,strMessage:a,x:p,y:_,w:C,h:E,strInput:"",nRetCode:-1,bVisible:!1,bExistInDOM:!1,bFade:!1,bResize:!1,nTimeId:null,el:null,customPosX:null,customPosY:null,customWidth:null,customHeight:null,callback:function(e,t){try{if(void 0===e&&(e=this.nRetCode),void 0===t&&(t=this.strInput),"function"==typeof window[u])window[u](e,t);else if("function"==typeof u)u(e,t);else if(!1===u||0===u||null===u)return!1}catch(l){}},show:function(e){if(0===e||"number"!=typeof e)return T(this.id);var t=this;t.nTimeId=setTimeout(function(){return T(t.id)},e)},hide:function(e,t){if(0===e||"number"!=typeof e)return w(this.id,t);var l=this;l.nTimeId=setTimeout(function(){return w(l.id,t)},e)},destroy:function(){return N(this.id)},onCreate:function(){},onShow:function(){},onHide:function(){},onClose:function(){},onDestroy:function(){},$:function(e){return $(this.id,e)},colorBorder:function(e){return $(this.id).style.borderColor=e,this},colorHeading:function(e){return $(this.id,"#"+this.id+"_1_heading").style.backgroundColor=e,this},color:function(e){return $(this.id,"#"+this.id+"_1_heading")&&($(this.id,"#"+this.id+"_1_heading").style.backgroundColor=e),$(this.id).style.borderColor=e,this},width:function(e){return this.w=this.customWidth=d(e),$(this.id).style.maxWidth=this.w+"px",this},height:function(e){var t=$(this.id);return this.h=this.customHeight=d(e),$(this.id).style.height=this.h+"px",$(this.id).style.maxHeight=this.h+"px",k(t.parentNode,this),this},xPos:function(e){return this.x=this.customPosX=d(e),$(this.id).style.left=this.x+"px",this},yPos:function(e){return this.y=this.customPosY=d(e),$(this.id).style.top=this.y+"px",this},center:function(){var e=$(this.id);return e.style.left=g()/2-e.offsetWidth/2+"px",e.style.top=h()/2-e.offsetHeight/2+"px",this},addButton:function(e,t,l){return function(e,t,l,i){var n=$(e,".dlg-footer");if(n){var o=document.createElement("button"),d=document.createTextNode(t);return o.appendChild(d),(n=n[0]).getElementsByTagName("button")[i]?n.insertBefore(o,n.getElementsByTagName("button")[i]):n.appendChild(o),r(o,"click",l),o}return null}(this.id,e,t,l)}};t.push(H),null===(H=v(l))&&(H=v(l+="_0"));var I=document.createElement("div");if(I.setAttribute("id",H.id),I.setAttribute("class",H.strTypeClass),n().appendChild(I),f(I,"dlg-toast")&&(m(I,"dlg-toast"),b(I,"dlg dlg-disable-heading dlg-disable-footer dlg-disable-drag dlg-disable-overlay")),f(I,"dlg-fade")&&(H.bFade=!0),I){var P=document.createElement("div");if(P.setAttribute("id",H.id+"_1"),P.setAttribute("class","dlg-box"),I.appendChild(P),f(I,"dlg-rounded")&&(b(P,"dlg-rounded"),m(I,"dlg-rounded")),f(I,"dlg-shadow")&&(b(P,"dlg-shadow"),m(I,"dlg-shadow")),f(I,"dlg-disable-heading"))(Y=document.createElement("span")).setAttribute("class","dlg-close-x icon-x"),Y.innerHTML="&#215;",P.appendChild(Y);else{var Y,X=document.createElement("div");X.setAttribute("id",H.id+"_1_heading"),X.setAttribute("class","dlg-heading"),P.appendChild(X),(Y=document.createElement("span")).setAttribute("class","dlg-close-x icon-x"),Y.innerHTML="&#215;",X.appendChild(Y);let q=document.createElement("h3");var S=document.createTextNode(H.strTitle);q.setAttribute("class","popup-title"),q.appendChild(S),X.appendChild(q)}var M=document.createElement("div"),R=null,V=null;if(f(I,"dlg-info")||f(I,"dlg-question")||f(I,"dlg-error")||f(I,"dlg-success")||f(I,"dlg-exclamation")?(M.setAttribute("class","dlg-message dlg-flex-container"),(R=document.createElement("div")).setAttribute("class","dlg-flexbox-left"),f(I,"dlg-info")?R.innerHTML='<div class="dlg-symbol dlg-icon-info"></div>':f(I,"dlg-question")?R.innerHTML='<div class="dlg-symbol dlg-icon-question"></div>':f(I,"dlg-error")?R.innerHTML='<div class="dlg-symbol dlg-icon-error"></div>':f(I,"dlg-success")?R.innerHTML='<div class="dlg-symbol dlg-icon-success"></div>':f(I,"dlg-exclamation")&&(R.innerHTML='<div class="dlg-symbol dlg-icon-excl"></div>'),M.appendChild(R),(V=document.createElement("div")).setAttribute("class","dlg-flexbox-right"),V.innerHTML=H.strMessage,M.appendChild(V)):(M.setAttribute("class","dlg-message"),M.innerHTML=H.strMessage),P.appendChild(M),f(I,"dlg-prompt")){var z=document.createElement("div");z.setAttribute("class","dlg-input"),f(M,"dlg-flex-container")?V.appendChild(z):M.appendChild(z);var D=document.createElement("input");D.setAttribute("class","dlg-input-field"),D.setAttribute("type","text"),D.setAttribute("value",H.strInput),z.appendChild(D),f(I,"dlg-ok-cancel")||b(I,"dlg-ok-cancel")}if(!f(I,"dlg-disable-footer")){var O=document.createElement("div");if(O.setAttribute("class","dlg-footer"),P.appendChild(O),!f(I,"dlg-disable-btns")){if(f(I,"dlg-yes")||f(I,"dlg-yes-no")){var F=document.createElement("button");F.setAttribute("class","dlg-yes-btn");var K=document.createTextNode("Yes");F.appendChild(K),O.appendChild(F)}if(f(I,"dlg-no")||f(I,"dlg-yes-no")){var j=document.createElement("button");j.setAttribute("class","dlg-no-btn");var G=document.createTextNode("No");j.appendChild(G),O.appendChild(j)}if(f(I,"dlg-ok")||f(I,"dlg-ok-cancel")){var J=document.createElement("button");J.setAttribute("class","dlg-ok-btn");var Q=document.createTextNode("OK");J.appendChild(Q),O.appendChild(J)}if(f(I,"dlg-cancel")||f(I,"dlg-ok-cancel")){var U=document.createElement("button");U.setAttribute("class","dlg-cancel-btn");var Z=document.createTextNode("Cancel");U.appendChild(Z),O.appendChild(U)}if(f(I,"dlg-close")||f(I,"dlg")){var ee=document.createElement("button");ee.setAttribute("class","dlg-close-btn");var et=document.createTextNode("Close");ee.appendChild(et),O.appendChild(ee)}}}r(window,"resize",function(){H.bVisible&&y(H.id+"_1")});var el=I.querySelector(".dlg-close-x");el&&r(el,"click",function(){H.hide(0,!0),H.callback(0),H.nRetCode=0,H.onClose(),document.body.classList.contains("login-popup-show")&&document.body.classList.remove("login-popup-show")});var ei=I.querySelector(".dlg-close-btn");if(ei&&r(ei,"click",function(){H.hide(0,!0),H.callback(0),H.nRetCode=0,H.onClose()}),f(I,"dlg-disable-clickout")||r(I,"click",function(e){c(e=e||window.event)===I&&(H.hide(0,!0),H.callback(0),H.nRetCode=0,H.onClose(),document.body.classList.contains("login-popup-show")&&document.body.classList.remove("login-popup-show"))}),f(I,"dlg-disable-esc")||r(document,"keyup",function(e){(27===(e=e||window.event).which||27===e.keyCode||"Escape"===e.key||"Escape"===e.code)&&H.bVisible&&(H.hide(0,!0),H.callback(0),H.nRetCode=0,H.onClose())}),f(I,"dlg-yes-no")||f(I,"dlg-yes")||f(I,"dlg-no")){var en=I.querySelector(".dlg-yes-btn");en&&r(en,"click",function(){H.hide(0,!0),H.callback(1),H.nRetCode=1,H.onClose()});var eo=I.querySelector(".dlg-no-btn");eo&&r(eo,"click",function(){H.hide(0,!0),H.callback(2),H.nRetCode=2,H.onClose()})}if(f(I,"dlg-ok-cancel")||f(I,"dlg-ok")||f(I,"dlg-cancel")){var ed=I.querySelector(".dlg-ok-btn");ed&&r(ed,"click",function(){H.hide(0,!0),H.callback(3),H.nRetCode=3,H.onClose()});var es=I.querySelector(".dlg-cancel-btn");es&&r(es,"click",function(){H.hide(0,!0),H.callback(4),H.nRetCode=4,H.onClose()})}if(f(I,"dlg-prompt")){var er=I.querySelector(".dlg-input-field");er&&(r(er,"keyup",function(){H.strInput=er.value}),r(er,"change",function(){H.strInput=er.value}))}if(f(I,"dlg-disable-drag")||(L.init(P.id),r(P,"mouseenter",function(){L.init(P.id)}),r(P,"mousedown",function(){I.style.zIndex=d(x(I))})),f(I,"dlg-resize")){B.init(P.id),H.bResize=!0;var ea=$(H.id,"#"+H.id+" .dlg-footer");ea&&b(ea[0],"dlg-footer-extra-padding"),r(P,"mouseenter",function(){B.init(P.id)})}return f(I,"dlg-prompt")&&I.querySelector(".dlg-input-field").focus(),H.bExistInDOM=!0,H.el=document.getElementById(H.id+"_1"),setTimeout(function(){H.onCreate()},10),H}W||H.strTypeClass}return null},H=function(){for(var e=document.querySelectorAll(".dlg-opener"),t=0;t<e.length;t++){var l=document.getElementById(e[t].getAttribute("rel"));!function(){var i=W(l.getAttribute("id"),l.getAttribute("class"),l.getAttribute("title"),l.innerHTML,l.getAttribute("data-callback"),l.getAttribute("data-x"),l.getAttribute("data-y"),l.getAttribute("data-w"),l.getAttribute("data-h"));r(e[t],"click",function(e){return e=e||window.event,i.show(),this.blur(),u(e),!1})}()}return t},L={init:function(e){if(!0!==L.bActive){if(L.el=document.getElementById(e),null===L.el)return!1;L.el.handle=document.getElementById(e+"_heading"),null===L.el.handle&&(L.el.handle=L.el),L.el.style.position="absolute",r(L.el.handle,"mousedown",L.start)}},start:function(e){if(0===(e=e||window.event).button||window.attachEvent&&!window.addEventListener&&1===e.button){var t=c(e);"input"!==t.tagName.toLowerCase()&&"textarea"!==t.tagName.toLowerCase()&&"button"!==t.tagName.toLowerCase()&&"select"!==t.tagName.toLowerCase()&&(L.el.handle.style.cursor="move",L.el.posX2=e.clientX,L.el.posY2=e.clientY,r(document,"mouseup",L.stop),r(document,"mousemove",L.move),L.bActive=!0)}},stop:function(){L.el.handle.style.cursor="",a(document,"mouseup",L.stop),a(document,"mousemove",L.move),L.bActive=!1},move:function(e){e=e||window.event,L.el.posX=L.el.posX2-e.clientX,L.el.posY=L.el.posY2-e.clientY,L.el.posX2=e.clientX,L.el.posY2=e.clientY,L.el.style.top=d(L.el.offsetTop-L.el.posY)+"px",L.el.style.left=d(L.el.offsetLeft-L.el.posX)+"px";var t=v(L.el.id.split("_1")[0]);return t.yPos(d(L.el.style.top)),t.xPos(d(L.el.style.left)),u(e),!1}},B={init:function(e){if(!0!==B.bActive){B.el=document.getElementById(e),B.el.style.position="absolute";var t=document.createElement("div");B.el.appendChild(t),t.className="dlg-rh",t.innerHTML='<p class="dlg-rd1"></p><p class="dlg-rd2"></p><p class="dlg-rd3"></p><p class="dlg-rd4"></p><p class="dlg-rd5"></p><p class="dlg-rd6"></p>',r(t,"mousedown",B.start)}},start:function(e){var t;return e=e||window.event,B.minWidth=d(p(B.el,"minWidth"))||100,B.minHeight=d(p(B.el,"minHeight"))||36,B.posX=e.clientX,B.posY=e.clientY,B.width=B.el.offsetWidth,B.height=B.el.offsetHeight,r(document,"mousemove",B.move),r(document,"mouseup",B.stop),B.bActive=!0,f(B.el.parentNode,"dlg-disable-heading")&&(void 0!==(t=e).stopPropagation?t.stopPropagation():t.cancelBubble=!0),u(e),!1},stop:function(){a(document,"mousemove",B.move),a(document,"mouseup",B.stop),B.bActive=!1},move:function(e){e=e||window.event;var t=v(B.el.id.split("_1")[0]);return B.width+e.clientX-B.posX>=B.minWidth&&(B.el.style.maxWidth=d(B.width+e.clientX-B.posX)+"px",t.width(B.el.style.maxWidth)),B.height+e.clientY-B.posY>=B.minHeight&&(B.el.style.height=d(B.height+e.clientY-B.posY)+"px",t.height(B.el.style.height)),u(e),!1}};return r(window,"load",function(){H()}),{create:function(e,t,l,i,n,o,d,s,r){return W(e,t,l,i,n,o,d,s,r)},getAll:function(){return t},getById:function(e){return v(e)},init:function(){return H()}}}();